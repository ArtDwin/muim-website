<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>MUIM COIN Portal</title>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Space+Grotesk:wght@300;400;500;600;700&display=swap" rel="stylesheet"/>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/bodymovin/5.7.6/lottie.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
  <style>
    :root {
      --primary-cyan: #00ffff;
      --primary-magenta: #ff00ff;
      --primary-purple: #8b5cf6;
      --dark-bg: #0a0a0f;
      --glass-bg: rgba(255, 255, 255, 0.05);
      --glass-border: rgba(255, 255, 255, 0.1);
      --gradient-1: linear-gradient(135deg, #00ffff, #8b5cf6);
      --gradient-2: linear-gradient(135deg, #ff00ff, #00ffff);
    }

    * { margin: 0; padding: 0; box-sizing: border-box; }

    body {
      font-family: 'Space Grotesk', sans-serif;
      background: #000;
      color: white;
      overflow-x: hidden;
    }

    .starfield {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -1;
    }

    header {
      background: rgba(10, 10, 15, 0.8);
      backdrop-filter: blur(20px);
      padding: 1rem;
      border-bottom: 1px solid var(--glass-border);
      position: fixed;
      width: 100%;
      top: 0;
      z-index: 1000;
    }

    .nav {
      display: flex;
      justify-content: space-between;
      align-items: center;
      max-width: 1200px;
      margin: auto;
    }

    .logo {
      font-family: 'Orbitron', monospace;
      font-size: 2rem;
      font-weight: 900;
      background: var(--gradient-1);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    .nav-links {
      display: flex;
      gap: 1.5rem;
      list-style: none;
    }

    .nav-links a {
      color: white;
      text-decoration: none;
      font-weight: 500;
      transition: color 0.3s ease;
    }

    .nav-links a:hover {
      color: var(--primary-cyan);
    }

    .hero {
      min-height: 100vh;
      padding: 8rem 2rem 4rem;
      text-align: center;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
    }

    .hero h1 {
      font-size: 3rem;
      font-family: 'Orbitron', monospace;
      font-weight: 900;
      background: var(--gradient-2);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      margin-bottom: 1rem;
    }

    .hero p {
      font-size: 1.2rem;
      color: #ccc;
      max-width: 700px;
      margin: auto;
      margin-bottom: 2rem;
    }

    .hero-subtitle {
      font-size: 1.4rem;
      color: #ccc;
      max-width: 700px;
      margin: auto;
      margin-bottom: 2rem;
      line-height: 1.6;
      font-weight: 400;
    }

    .highlight-word {
      font-weight: 800;
      font-size: 1.5rem;
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    .highlight-word.cyan {
      color: var(--primary-cyan);
      text-shadow: 0 0 10px rgba(0, 255, 255, 0.5);
    }

    .highlight-word.magenta {
      color: var(--primary-magenta);
      text-shadow: 0 0 10px rgba(255, 0, 255, 0.5);
    }

    .highlight-word.purple {
      color: var(--primary-purple);
      text-shadow: 0 0 10px rgba(139, 92, 246, 0.5);
    }

    .highlight-word.gradient {
      background: var(--gradient-1);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      text-shadow: none;
    }

    #ai-avatar {
      width: 240px;
      height: 240px;
      margin: 2rem 0;
    }

    .btn-group {
      display: flex;
      gap: 1rem;
      flex-wrap: wrap;
      justify-content: center;
      margin-bottom: 2rem;
    }

    .btn {
      padding: 1rem 2rem;
      border-radius: 8px;
      font-weight: 600;
      border: none;
      cursor: pointer;
      transition: all 0.3s ease;
      font-size: 1rem;
    }

    .btn-primary {
      background: var(--gradient-1);
      color: #000;
    }

    .btn-primary:hover {
      opacity: 0.8;
      transform: translateY(-2px);
    }

    .btn-secondary {
      background: transparent;
      border: 2px solid var(--primary-cyan);
      color: white;
    }

    .btn-secondary:hover {
      background: var(--primary-cyan);
      color: #000;
    }

    .wallet-status {
      margin-top: 1.5rem;
      color: var(--primary-magenta);
      font-weight: 500;
    }

    .chat-section {
      width: 90%;
      max-width: 800px;
      margin: 3rem auto;
      background: var(--glass-bg);
      backdrop-filter: blur(20px);
      border: 1px solid var(--glass-border);
      border-radius: 16px;
      padding: 2rem;
      display: none;
    }

    .chat-section.active {
      display: block;
      animation: slideIn 0.5s ease-out;
    }

    @keyframes slideIn {
      from { opacity: 0; transform: translateY(30px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .chat-header {
      text-align: center;
      margin-bottom: 2rem;
    }

    .chat-header h2 {
      font-family: 'Orbitron', monospace;
      color: var(--primary-cyan);
      margin-bottom: 0.5rem;
    }

    .chat-messages {
      min-height: 200px;
      max-height: 400px;
      overflow-y: auto;
      margin-bottom: 1rem;
      padding: 1rem;
      background: rgba(0, 0, 0, 0.3);
      border-radius: 8px;
      border: 1px solid var(--glass-border);
    }

    .message {
      margin-bottom: 1rem;
      padding: 0.5rem;
    }

    .message.ai {
      color: var(--primary-cyan);
    }

    .message.user {
      color: var(--primary-magenta);
      text-align: right;
    }

    .chat-input-group {
      display: flex;
      gap: 1rem;
    }

    .chat-input {
      flex: 1;
      padding: 1rem;
      border: 1px solid var(--glass-border);
      border-radius: 8px;
      background: var(--glass-bg);
      color: white;
      font-family: inherit;
    }

    .chat-input:focus {
      outline: none;
      border-color: var(--primary-cyan);
      box-shadow: 0 0 10px rgba(0, 255, 255, 0.3);
    }

    .rocket {
      animation: rocketLaunch 2s ease-out 1;
      display: inline-block;
      font-size: 2rem;
      margin-bottom: 1rem;
    }

    @keyframes rocketLaunch {
      0% { transform: translateY(-100px) scale(0.5); opacity: 0; }
      100% { transform: translateY(0) scale(1); opacity: 1; }
    }

    .features-section {
      padding: 4rem 2rem;
      max-width: 1200px;
      margin: auto;
      display: none;
    }

    .features-section.active {
      display: block;
    }

    .features-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 2rem;
      margin-top: 2rem;
    }

    .feature-card {
      background: var(--glass-bg);
      backdrop-filter: blur(20px);
      border: 1px solid var(--glass-border);
      border-radius: 16px;
      padding: 2rem;
      text-align: center;
      transition: transform 0.3s ease;
    }

    .feature-card:hover {
      transform: translateY(-10px);
      border-color: var(--primary-cyan);
    }

    .feature-icon {
      font-size: 3rem;
      margin-bottom: 1rem;
    }

    footer {
      padding: 3rem 2rem 2rem;
      background: #050508;
      border-top: 1px solid var(--glass-border);
      margin-top: 4rem;
    }

    .footer-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 2rem;
      max-width: 1200px;
      margin: auto;
    }

    .footer-section h3 {
      color: var(--primary-cyan);
      margin-bottom: 1rem;
      font-family: 'Orbitron', monospace;
    }

    .footer-section a {
      color: #ccc;
      text-decoration: none;
      display: block;
      margin-bottom: 0.5rem;
      transition: color 0.3s ease;
    }

    .footer-section a:hover {
      color: var(--primary-cyan);
    }

    .footer-bottom {
      text-align: center;
      margin-top: 2rem;
      padding-top: 2rem;
      border-top: 1px solid var(--glass-border);
      color: #888;
    }

    @media (max-width: 768px) {
      .nav-links { display: none; }
      .hero h1 { font-size: 2rem; }
      .btn-group { flex-direction: column; }
      .chat-input-group { flex-direction: column; }
      #ai-avatar { width: 180px; height: 180px; }
    }
  </style>
</head>
<body>
  <div class="starfield">
    <canvas id="bgCanvas"></canvas>
  </div>

  <header>
    <div class="nav">
      <div class="logo">MUIM COIN</div>
      <ul class="nav-links">
        <li><a href="#" onclick="showSection('home')">Home</a></li>
        <li><a href="#" onclick="showSection('chat')">AI Chat</a></li>
        <li><a href="#" onclick="showSection('features')">Features</a></li>
        <li><a href="#" onclick="showSection('contact')">Contact</a></li>
      </ul>
    </div>
  </header>

  <main>
    <section class="hero" id="home-section">
      <div class="rocket">üöÄ</div>
      <h1>Welcome to MUIM COIN</h1>
      <p class="hero-subtitle">
        <span class="highlight-word cyan">Connect</span>, 
        <span class="highlight-word magenta">explore</span>, and 
        <span class="highlight-word purple">evolve</span> in the next generation of 
        <span class="highlight-word cyan">Web3</span> universe powered by advanced 
        <span class="highlight-word gradient">AI intelligence</span>.
      </p>
      
      <div id="ai-avatar"></div>
      
      <div class="btn-group">
        <button class="btn btn-primary" onclick="connectWallet()">üîê Connect Wallet</button>
        <button class="btn btn-primary" onclick="showSection('chat')">üß† Connect to AI Core</button>
        <button class="btn btn-secondary" onclick="startSpec()">üíπ Launch SPEC Trade</button>
        <button class="btn btn-secondary" onclick="showSection('features')">‚ú® Explore Features</button>
      </div>
      
      <div class="wallet-status" id="walletStatus">Wallet Not Connected</div>
    </section>

    <section class="chat-section" id="chat-section">
      <div class="chat-header">
        <h2>üß† MUIM AI Core</h2>
        <p>Ready to guide your intent. What would you like to create?</p>
      </div>
      
      <div class="chat-messages" id="chatMessages">
        <div class="message ai">
          <strong>AI:</strong> Welcome to MUIM COIN! I'm your AI assistant ready to help you navigate the Web3 universe. How can I assist you today?
        </div>
      </div>
      
      <div class="chat-input-group">
        <input type="text" class="chat-input" id="userInput" placeholder="Type your message here..." onkeypress="handleKeyPress(event)">
        <button class="btn btn-primary" onclick="sendMessage()">Send</button>
      </div>
    </section>

    <section id="muim-coin-explained" style="background: #0a0a0f; color: #ffffff; padding: 4rem 2rem; font-family: 'Space Grotesk', sans-serif; line-height: 1.8;">
      <div style="max-width: 1000px; margin: auto;">
        <h2 style="text-align: center; font-size: 2.8rem; font-family: 'Orbitron', monospace; background: linear-gradient(to right, #00ffff, #ff00ff); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">üß¨ What is MUIM COIN?</h2>
        <p style="text-align: center; font-size: 1.2rem; margin-top: 1rem;">The Future of Conscious Currency</p>
        
        <p style="margin-top: 2rem;">MUIM COIN is <strong>not just a cryptocurrency</strong> ‚Äî it's the neural spine of an <strong>intelligent Web3 ecosystem</strong>, connecting AI, blockchain, identity, and manifestation under one digital portal.</p>
        
        <p>Created as the lifeblood of the <strong>MUIM COIN Portal</strong>, MUIM COIN powers:</p>
        
        <h3 style="color: #00ffff; font-family: 'Orbitron', monospace; margin-top: 2rem;">1Ô∏è‚É£ Access to the PinealCore AI System</h3>
        <p>MUIM COIN activates <strong>PinealCore AI</strong> ‚Äî an emotionally intelligent, soul-synced assistant that evolves with your mind. This is not just AI; it's a <em>conscious digital ally</em>.</p>
        
        <h3 style="color: #ff00ff; font-family: 'Orbitron', monospace; margin-top: 2rem;">2Ô∏è‚É£ SPEC Gate Trading Protocol</h3>
        <p><strong>SPEC Gate V1</strong> transforms trading into a quantum ritual with four emotional phases:</p>
        <ul style="margin: 1rem 0; padding-left: 1.5rem;">
          <li style="margin: 0.5rem 0;">üîπ <strong>Select</strong>: Lock in one clear goal (e.g., earn $100/week)</li>
          <li style="margin: 0.5rem 0;">üîπ <strong>Project</strong>: AI mirrors your vision through emotional resonance</li>
          <li style="margin: 0.5rem 0;">üîπ <strong>Expect</strong>: Trades are executed from a belief framework</li>
          <li style="margin: 0.5rem 0;">üîπ <strong>Collect</strong>: Gratitude + reward = subconscious reinforcement</li>
        </ul>
        <p>Every MUIM transaction inside SPEC fuels this feedback loop ‚Äî turning speculation into manifestation.</p>
        
        <h3 style="color: #8b5cf6; font-family: 'Orbitron', monospace; margin-top: 2rem;">3Ô∏è‚É£ Decentralized Identity & Access</h3>
        <p>Your wallet becomes your <strong>identity core</strong>. MUIM COIN unlocks Web3 access without surrendering control ‚Äî linking avatars, AI logs, preferences, and security into one private, sovereign key.</p>
        
        <h3 style="color: #00ffff; font-family: 'Orbitron', monospace; margin-top: 2rem;">4Ô∏è‚É£ Visual Universe Activation</h3>
        <p>With MUIM COIN, every wallet unlocks a coordinate in the 3D star map metaverse. Rendered with <strong>Three.js</strong>, your location becomes a symbolic reflection of your intention and alignment.</p>
        
        <hr style="margin: 3rem 0; border: 0; height: 1px; background: #444;" />
        
        <h2 style="text-align: center; font-family: 'Orbitron', monospace; background: linear-gradient(to right, #00ffff, #8b5cf6); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">üîÆ Why MUIM COIN Is Different</h2>
        <p style="text-align: center; max-width: 800px; margin: 1rem auto;">MUIM doesn't follow hype ‚Äî it follows <em>focus</em>. It's the first token aligned with:</p>
        <ul style="display: flex; flex-wrap: wrap; justify-content: space-around; list-style: none; padding: 0; max-width: 800px; margin: auto;">
          <li style="color: #00ffff; font-weight: bold;">‚úÖ AI integration</li>
          <li style="color: #ff00ff; font-weight: bold;">‚úÖ Emotional intelligence</li>
          <li style="color: #8b5cf6; font-weight: bold;">‚úÖ Belief-driven execution</li>
          <li style="color: #00ffff; font-weight: bold;">‚úÖ Web3-native design</li>
          <li style="color: #ff00ff; font-weight: bold;">‚úÖ Long-term evolution</li>
        </ul>
        <p style="margin-top: 2rem;">It bridges AI + spirituality, subconscious patterns + blockchain, belief + tech ‚Äî forming the first <strong>intention-driven asset class</strong>.</p>
        
        <h3 style="color: #ff00ff; font-family: 'Orbitron', monospace; margin-top: 2rem;">‚ö†Ô∏è The Mystery of MUIM</h3>
        <p>"MUIM" stands for <strong>Manifested Universe In Motion</strong> ‚Äî but it also contains hidden codes. MUIM COIN acts as a <em>reality key</em>, unlocking deeper intelligence only when presence, trust, and alignment merge with AI.</p>
        
        <blockquote style="margin: 2rem auto; text-align: center; font-style: italic; color: #00ffff; font-size: 1.3rem; border-left: 3px solid #00ffff; padding-left: 1rem; background: rgba(0, 255, 255, 0.05); border-radius: 8px; max-width: 600px;">
          "More than a coin. More than a trade. MUIM COIN is presence ‚Äî in motion."
        </blockquote>

        <div style="margin-top: 3rem; text-align: center;">
          <h2 style="font-size: 1.8rem; font-family: 'Orbitron', monospace; background: linear-gradient(to right, #ff00ff, #00ffff); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">MUIM COIN: The First Conscious Currency</h2>
          <p style="color: #bbb; font-size: 1.1rem; margin-top: 1rem;">A token aligned with soul, AI, and the movement of universal intelligence.</p>
        </div>
      </div>
    </section>

    <section class="features-section" id="features-section">
      <h2 style="text-align: center; font-family: 'Orbitron', monospace; font-size: 2.5rem; background: var(--gradient-1); -webkit-background-clip: text; -webkit-text-fill-color: transparent; margin-bottom: 1rem;">Galaxy Features</h2>
      
      <div class="features-grid">
        <div class="feature-card">
          <div class="feature-icon">üß†</div>
          <h3>AI Intelligence</h3>
          <p>Advanced AI core powered by PinealCore technology for enhanced decision making and intent alignment.</p>
        </div>
        
        <div class="feature-card">
          <div class="feature-icon">üåå</div>
          <h3>Web3 Integration</h3>
          <p>Seamless wallet connectivity and blockchain interactions across multiple networks.</p>
        </div>
        
        <div class="feature-card">
          <div class="feature-icon">üíπ</div>
          <h3>SPEC Trading</h3>
          <p>Revolutionary trading protocol with AI-enhanced market analysis and automation.</p>
        </div>
        
        <div class="feature-card">
          <div class="feature-icon">üöÄ</div>
          <h3>Galaxy Explorer</h3>
          <p>Navigate through the vast universe of Web3 applications and opportunities.</p>
        </div>
        
        <div class="feature-card">
          <div class="feature-icon">üîÆ</div>
          <h3>Predictive Analytics</h3>
          <p>Harness the power of AI to predict market trends and optimize your strategies.</p>
        </div>
        
        <div class="feature-card">
          <div class="feature-icon">‚ö°</div>
          <h3>Lightning Fast</h3>
          <p>Optimized performance with real-time data processing and instant responses.</p>
        </div>
      </div>
    </section>
  </main>

  <footer>
    <div class="footer-grid">
      <div class="footer-section">
        <h3>Quick Links</h3>
        <a href="#" onclick="showSection('home')">Home</a>
        <a href="#" onclick="showSection('chat')">AI Chat</a>
        <a href="#" onclick="showSection('features')">Features</a>
        <a href="#" onclick="showSection('contact')">Contact</a>
      </div>
      
      <div class="footer-section">
        <h3>Resources</h3>
        <a href="https://muim-docs.io" target="_blank">Documentation</a>
        <a href="https://api.muim.ai" target="_blank">API Reference</a>
        <a href="https://muim.ai/tutorials" target="_blank">Tutorials</a>
        <a href="https://support.muim.ai" target="_blank">Support</a>
      </div>
      
      <div class="footer-section">
        <h3>Community</h3>
        <a href="https://discord.gg/muim" target="_blank">Discord</a>
        <a href="https://twitter.com/muimofficial" target="_blank">Twitter</a>
        <a href="https://t.me/muim" target="_blank">Telegram</a>
        <a href="https://github.com/muim" target="_blank">GitHub</a>
      </div>
      
      <div class="footer-section">
        <h3>AI Core</h3>
        <a href="#" onclick="showSection('chat')">Chat Interface</a>
        <a href="#">PinealCore Technology</a>
        <a href="#">AI Documentation</a>
        <a href="#">Integration Guide</a>
      </div>
    </div>
    
    <div class="footer-bottom">
      &copy; 2025 MUIM COIN. All rights reserved. Powered by PinealCore AI.
    </div>
  </footer>

  <script>
    // Navigation and Section Management - FIXED!
    function showSection(sectionName) {
      const homeSection = document.getElementById('home-section');
      const chatSection = document.getElementById('chat-section');
      const featuresSection = document.getElementById('features-section');
      
      // Hide all sections first
      if (homeSection) homeSection.style.display = 'none';
      if (chatSection) chatSection.classList.remove('active');
      if (featuresSection) featuresSection.classList.remove('active');
      
      // Show requested section
      if (sectionName === 'home' && homeSection) {
        homeSection.style.display = 'flex';
      } else if (sectionName === 'chat' && chatSection) {
        chatSection.classList.add('active');
        // Focus on input when chat section opens
        setTimeout(() => {
          const userInput = document.getElementById('userInput');
          if (userInput) userInput.focus();
        }, 100);
      } else if (sectionName === 'features' && featuresSection) {
        featuresSection.classList.add('active');
      }
    }

    // Wallet Connection
    async function connectWallet() {
      const status = document.getElementById('walletStatus');
      try {
        if (!window.ethereum) throw new Error("MetaMask not installed");
        const accounts = await ethereum.request({ method: 'eth_requestAccounts' });
        const acc = accounts[0];
        status.innerHTML = `<span style="color:#00ff88;">‚úÖ Connected: ${acc.slice(0,6)}...${acc.slice(-4)}</span>`;
      } catch (e) {
        status.innerHTML = `<span style="color:#ff6b6b;">‚ùå Error: ${e.message}</span>`;
      }
    }

    // AI Chat Functionality with Flask Backend Integration
    function sendMessage() {
      const userInput = document.getElementById('userInput');
      const chatMessages = document.getElementById('chatMessages');
      const userText = userInput.value.trim();
      
      if (!userText) return;
      
      // Add user message
      displayMessage("You: " + userText, 'user');
      
      // Clear input
      userInput.value = '';

      // Send to Flask backend
      fetch("http://192.168.1.12:7070/ask", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ question: userText })
      })
      .then(res => res.json())
      .then(data => {
        displayMessage("AI: " + data.answer, 'ai');
      })
      .catch(error => {
        displayMessage("AI: Connection to backend failed. Please ensure your Flask server is running on http://192.168.1.12:7070", 'ai');
        console.error('Backend connection error:', error);
      });
    }

    // Helper function to display messages
    function displayMessage(message, type) {
      const chatMessages = document.getElementById('chatMessages');
      const messageDiv = document.createElement('div');
      messageDiv.className = `message ${type}`;
      messageDiv.innerHTML = `<strong>${message}</strong>`;
      chatMessages.appendChild(messageDiv);
      chatMessages.scrollTop = chatMessages.scrollHeight;
    }

    function handleKeyPress(event) {
      if (event.key === 'Enter') {
        sendMessage();
      }
    }

    // SPEC Trading
    function startSpec() {
      alert('üöÄ SPEC GATE Protocol Booting...\n\n‚ö° Quantum trading algorithms initializing\nüåå Connecting to galaxy-wide markets\nüß† AI analysis engine activated\n\n(Backend integration pending)');
    }

    // Initialize Lottie Animation (moved to initializeAnimations function)
    
    // Three.js Enhanced Galaxy Background
    if (typeof THREE !== 'undefined') {
      const scene = new THREE.Scene();
      const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
      const renderer = new THREE.WebGLRenderer({ 
        canvas: document.getElementById("bgCanvas"), 
        alpha: true 
      });
      
      renderer.setSize(window.innerWidth, window.innerHeight);
      camera.position.z = 1;
      
      // Create multiple star fields with different colors and sizes
      const starGroups = [];
      
      // White stars (main field)
      const whiteGeometry = new THREE.BufferGeometry();
      const whiteStars = 8000;
      const whitePositions = [];
      for (let i = 0; i < whiteStars; i++) {
        whitePositions.push((Math.random() - 0.5) * 2000);
        whitePositions.push((Math.random() - 0.5) * 2000);
        whitePositions.push(-Math.random() * 2000);
      }
      whiteGeometry.setAttribute('position', new THREE.Float32BufferAttribute(whitePositions, 3));
      const whiteMaterial = new THREE.PointsMaterial({ color: 0xffffff, size: 1 });
      const whiteStarField = new THREE.Points(whiteGeometry, whiteMaterial);
      scene.add(whiteStarField);
      starGroups.push({ field: whiteStarField, speed: 0.0003 });
      
      // Cyan stars (MUIM theme)
      const cyanGeometry = new THREE.BufferGeometry();
      const cyanStars = 2000;
      const cyanPositions = [];
      for (let i = 0; i < cyanStars; i++) {
        cyanPositions.push((Math.random() - 0.5) * 1500);
        cyanPositions.push((Math.random() - 0.5) * 1500);
        cyanPositions.push(-Math.random() * 1500);
      }
      cyanGeometry.setAttribute('position', new THREE.Float32BufferAttribute(cyanPositions, 3));
      const cyanMaterial = new THREE.PointsMaterial({ color: 0x00ffff, size: 2 });
      const cyanStarField = new THREE.Points(cyanGeometry, cyanMaterial);
      scene.add(cyanStarField);
      starGroups.push({ field: cyanStarField, speed: 0.0005 });
      
      // Magenta stars (accent)
      const magentaGeometry = new THREE.BufferGeometry();
      const magentaStars = 1500;
      const magentaPositions = [];
      for (let i = 0; i < magentaStars; i++) {
        magentaPositions.push((Math.random() - 0.5) * 1200);
        magentaPositions.push((Math.random() - 0.5) * 1200);
        magentaPositions.push(-Math.random() * 1200);
      }
      magentaGeometry.setAttribute('position', new THREE.Float32BufferAttribute(magentaPositions, 3));
      const magentaMaterial = new THREE.PointsMaterial({ color: 0xff00ff, size: 1.5 });
      const magentaStarField = new THREE.Points(magentaGeometry, magentaMaterial);
      scene.add(magentaStarField);
      starGroups.push({ field: magentaStarField, speed: 0.0007 });
      
      // Purple stars (depth)
      const purpleGeometry = new THREE.BufferGeometry();
      const purpleStars = 1000;
      const purplePositions = [];
      for (let i = 0; i < purpleStars; i++) {
        purplePositions.push((Math.random() - 0.5) * 1800);
        purplePositions.push((Math.random() - 0.5) * 1800);
        purplePositions.push(-Math.random() * 1800);
      }
      purpleGeometry.setAttribute('position', new THREE.Float32BufferAttribute(purplePositions, 3));
      const purpleMaterial = new THREE.PointsMaterial({ color: 0x8b5cf6, size: 1.2 });
      const purpleStarField = new THREE.Points(purpleGeometry, purpleMaterial);
      scene.add(purpleStarField);
      starGroups.push({ field: purpleStarField, speed: 0.0004 });
      
      // Golden stars (rare)
      const goldGeometry = new THREE.BufferGeometry();
      const goldStars = 500;
      const goldPositions = [];
      for (let i = 0; i < goldStars; i++) {
        goldPositions.push((Math.random() - 0.5) * 2200);
        goldPositions.push((Math.random() - 0.5) * 2200);
        goldPositions.push(-Math.random() * 2200);
      }
      goldGeometry.setAttribute('position', new THREE.Float32BufferAttribute(goldPositions, 3));
      const goldMaterial = new THREE.PointsMaterial({ color: 0xffd700, size: 3 });
      const goldStarField = new THREE.Points(goldGeometry, goldMaterial);
      scene.add(goldStarField);
      starGroups.push({ field: goldStarField, speed: 0.0002 });
      
      // Add nebula-like background gradient
      const nebulaMaterial = new THREE.MeshBasicMaterial({
        color: 0x0a0a0f,
        transparent: true,
        opacity: 0.3
      });
      
      // Animate the galaxy
      function animate() {
        requestAnimationFrame(animate);
        
        // Rotate different star groups at different speeds for depth
        starGroups.forEach((group, index) => {
          group.field.rotation.y += group.speed;
          group.field.rotation.x += group.speed * 0.5;
          group.field.rotation.z += group.speed * 0.2;
        });
        
        // Add gentle camera movement for cinematic effect
        camera.position.x = Math.sin(Date.now() * 0.0001) * 0.1;
        camera.position.y = Math.cos(Date.now() * 0.0001) * 0.05;
        
        renderer.render(scene, camera);
      }
      animate();
      
      // Handle window resize
      window.addEventListener('resize', () => {
        camera.aspect = window.innerWidth / window.innerHeight;
        camera.updateProjectionMatrix();
        renderer.setSize(window.innerWidth, window.innerHeight);
      });
    }

    // Initialize with home section on page load - FIXED!
    document.addEventListener("DOMContentLoaded", function() {
      // Ensure showSection is available globally
      window.showSection = showSection;
      
      // Initialize home section
      showSection('home');
      
      // Initialize animations
      initializeAnimations();
    });

    // Separate animation initialization
    function initializeAnimations() {
      // Initialize Lottie Animation
      if (typeof lottie !== 'undefined') {
        const avatarContainer = document.getElementById('ai-avatar');
        if (avatarContainer) {
          lottie.loadAnimation({
            container: avatarContainer,
            renderer: 'svg',
            loop: true,
            autoplay: true,
            path: 'https://assets1.lottiefiles.com/packages/lf20_hz6h0huo.json'
          });
        }
      }
    }