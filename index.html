<!DOCTYPE html><html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>MUIM COIN Portal</title>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Space+Grotesk:wght@300;400;500;600;700&display=swap" rel="stylesheet"/>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/bodymovin/5.7.6/lottie.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
  <script>
    // Ensure showSection is available globally
    function showSection(sectionName) {
      const home = document.getElementById('home-section');
      const chat = document.getElementById('chat-section');
      const features = document.getElementById('features-section');if (home) home.style.display = 'none';
  if (chat) chat.classList.remove('active');
  if (features) features.classList.remove('active');

  if (sectionName === 'home' && home) {
    home.style.display = 'flex';
  } else if (sectionName === 'chat' && chat) {
    chat.classList.add('active');
    setTimeout(() => {
      const input = document.getElementById('userInput');
      if (input) input.focus();
    }, 200);
  } else if (sectionName === 'features' && features) {
    features.classList.add('active');
  }
}

window.showSection = showSection;

// Chat logic
async function sendMessage() {
  const input = document.getElementById('userInput');
  const messages = document.getElementById('chatMessages');
  const text = input.value.trim();

  if (!text) return;

  const userDiv = document.createElement('div');
  userDiv.className = 'message user';
  userDiv.innerHTML = `<strong>You:</strong> ${text}`;
  messages.appendChild(userDiv);

  input.value = '';

  const aiDiv = document.createElement('div');
  aiDiv.className = 'message ai';
  aiDiv.innerHTML = '<strong>AI:</strong> <span class="typing-dots">...</span>';
  messages.appendChild(aiDiv);
  messages.scrollTop = messages.scrollHeight;

  try {
    const res = await fetch('http://192.168.1.12:7070/ask', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ question: text })
    });

    const data = await res.json();
    aiDiv.innerHTML = `<strong>AI:</strong> ${data.answer || 'No response from AI.'}`;
  } catch (err) {
    aiDiv.innerHTML = '<strong>AI:</strong> Connection error.';
  }

  messages.scrollTop = messages.scrollHeight;
}

function handleKeyPress(e) {
  if (e.key === 'Enter') sendMessage();
}

document.addEventListener('DOMContentLoaded', () => {
  showSection('home');

  if (typeof lottie !== 'undefined') {
    lottie.loadAnimation({
      container: document.getElementById('ai-avatar'),
      renderer: 'svg',
      loop: true,
      autoplay: true,
      path: 'https://assets1.lottiefiles.com/packages/lf20_hz6h0huo.json'
    });
  }
});

  </script>
</head>
<body>
  <!-- CONTENT remains same, no need to paste full visual HTML/CSS again here -->
  <!-- Place the HTML you already have visually inside <body> here -->
</body>
</html>